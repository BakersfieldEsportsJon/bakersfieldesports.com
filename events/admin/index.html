<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Event Manager - Bakersfield Esports Center</title>
    <link rel="preload" href="../../css/optimized.min.css" as="style">
    <link rel="preload" href="../../css/custom.css" as="style">
    <link href="../../css/optimized.min.css" rel="stylesheet">
    <link href="../../css/custom.css" rel="stylesheet">
</head>
<body>
    <header>
        <nav class="navbar">
            <div class="container">
                <a class="logo" href="../../index.html">
                    <img alt="Bakersfield eSports Logo" src="../../images/Asset%205-ts1621173277.png" />
                </a>
                <button aria-label="Toggle navigation" class="nav-toggle" id="nav-toggle">â˜°</button>
                <ul class="nav-menu" id="nav-menu">
                    <li><a href="../../index.html">Home</a></li>
                    <li><a href="../../locations/">Locations</a></li>
                    <li><a href="../../events/">Events</a></li>
                    <li><a href="../../rates-parties/index.html">Rates & Parties</a></li>
                    <li><a href="../../partnerships/index.html">Partnerships</a></li>
                    <li><a href="../../about-us/index.html">About Us</a></li>
                    <li><a href="../../contact-us/index.html">Contact Us</a></li>
                    <li><a href="https://discord.gg/jbzWH3ZvRp" target="_blank">Discord</a></li>
                    <li><a href="../../stem/index.html">STEM</a></li>
                    <li><a href="logout.php" class="logout-btn">Logout</a></li>
                </ul>
            </div>
        </nav>
    </header>

    <main class="events-admin-page">
        <div class="events-admin-header">
            <h1>Event Manager</h1>
            <div class="events-admin-actions">
                <button id="addEventBtn" class="events-admin-btn">Add Event</button>
                <button id="manageEventsBtn" class="events-admin-btn">Manage Events</button>
            </div>
        </div>

        <!-- Add Event Modal -->
        <div id="addEventModal" class="events-admin-modal">
            <div class="events-admin-modal-content">
                <span class="close">&times;</span>
                <h2>Add New Event</h2>
                <form id="addEventForm" class="events-admin-form">
                    <div class="events-admin-form-layout">
                        <!-- Left Section: Image Selection -->
                        <div class="events-admin-image-upload">
                            <div class="events-admin-image-preview" id="imagePreview">
                                <img id="selectedPreview" src="" alt="Selected Image" style="display: none;">
                                <div class="upload-prompt">Click to select image</div>
                            </div>
                            <div class="events-admin-image-selector">
                                <h3>Select Existing Image</h3>
                                <div class="events-admin-image-grid" id="imageGrid">
                                    <!-- Images will be loaded here -->
                                </div>
                                <div class="events-admin-image-upload-btn">
                                    <button type="button" class="events-admin-btn" id="uploadNewBtn">Upload New Image</button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Right Section: Event Details -->
                        <div class="events-admin-form-fields">
                            <div class="events-admin-form-group">
                                <label for="name">Event Name:</label>
                                <input type="text" id="name" name="name" required>
                            </div>
                            <div class="events-admin-form-group">
                                <label for="location">Location:</label>
                                <input type="text" id="location" name="location" required>
                            </div>
                            <div class="events-admin-form-group">
                                <label for="address">Address:</label>
                                <input type="text" id="address" name="address" required>
                            </div>
                            <div class="events-admin-form-group">
                                <label for="date">Start Date & Time:</label>
                                <input type="datetime-local" id="date" name="date" required>
                            </div>
                            <div class="events-admin-form-group">
                                <label for="entryCost">Entry Cost:</label>
                                <input type="text" id="entryCost" name="entryCost" required>
                            </div>
                            <div class="events-admin-form-group">
                                <label for="registrationLink">Registration Link:</label>
                                <input type="url" id="registrationLink" name="registrationLink" required>
                            </div>
                            <div class="events-admin-form-group">
                                <label for="gameTag">Game Tag:</label>
                                <input type="text" id="gameTag" name="gameTag" placeholder="e.g., valorant, league-of-legends">
                            </div>
                            <div class="events-admin-form-group">
                                <label for="notes">Notes:</label>
                                <textarea id="notes" name="notes" rows="3"></textarea>
                            </div>
                            <div class="events-admin-button-group">
                                <button type="submit" class="events-admin-btn">Save Event</button>
                                <button type="button" class="events-admin-btn cancel-btn">Cancel</button>
                            </div>
                        </div>
                    </div>
                </form>
            </div>
        </div>

        <!-- Manage Events Modal -->
        <div id="manageEventsModal" class="events-admin-modal">
            <div class="events-admin-modal-content">
                <span class="close">&times;</span>
                <h2>Manage Events</h2>
                <div id="eventsContainer"></div>
                
                <!-- Edit Form (Slides Out) -->
                <div class="events-admin-edit-form">
                    <h3>Edit Event</h3>
                    <form id="editEventForm" class="events-admin-form">
                        <!-- Same fields as add event form -->
                        <div class="events-admin-form-group">
                            <label for="editName">Event Name:</label>
                            <input type="text" id="editName" name="name" required>
                        </div>
                        <div class="events-admin-form-group">
                            <label for="editLocation">Location:</label>
                            <input type="text" id="editLocation" name="location" required>
                        </div>
                        <div class="events-admin-form-group">
                            <label for="editAddress">Address:</label>
                            <input type="text" id="editAddress" name="address" required>
                        </div>
                        <div class="events-admin-form-group">
                            <label for="editDate">Start Date & Time:</label>
                            <input type="datetime-local" id="editDate" name="date" required>
                        </div>
                        <div class="events-admin-form-group">
                            <label for="editEntryCost">Entry Cost:</label>
                            <input type="text" id="editEntryCost" name="entryCost" required>
                        </div>
                        <div class="events-admin-form-group">
                            <label for="editRegistrationLink">Registration Link:</label>
                            <input type="url" id="editRegistrationLink" name="registrationLink" required>
                        </div>
                        <div class="events-admin-form-group">
                            <label for="editNotes">Notes:</label>
                            <textarea id="editNotes" name="notes" rows="3"></textarea>
                        </div>
                        <div class="events-admin-form-group">
                            <label for="editGameTag">Game Tag:</label>
                            <input type="text" id="editGameTag" name="gameTag" placeholder="e.g., valorant, league-of-legends">
                        </div>
                        <div class="events-admin-button-group">
                            <button type="submit" class="events-admin-btn">Save Changes</button>
                            <button type="button" class="events-admin-btn cancel-edit-btn">Cancel</button>
                        </div>
                    </form>
                </div>
            </div>
        </div>
    </main>

    <script src="script.js"></script>
</body>
</html>
